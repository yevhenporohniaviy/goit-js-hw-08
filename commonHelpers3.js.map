{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst form = document.querySelector('.feedback-form');\nconst { email: emailField, message: messageField } = form\nconst defaultData = {\n  email: '',\n  message: ''\n}\nlet feedbackFormState = JSON.parse(\n  localStorage.getItem('feedback-form-state')\n) || defaultData;\n\nemailField.value = feedbackFormState.email\nmessageField.value = feedbackFormState.message\n\nfunction updateField(e) {\n  feedbackFormState[e.target.name] = e.target.value.trim()\n\n  localStorage.setItem(\n    'feedback-form-state',\n    JSON.stringify(feedbackFormState)\n  );\n}\n\nform.addEventListener('input', throttle(updateField, 1000));\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  const { email, message} = feedbackFormState\n\n  if (email !== '' && message !== '') {\n    form.reset()\n    console.log(feedbackFormState)\n    feedbackFormState = defaultData\n    localStorage.removeItem('feedback-form-state');\n  }\n});\n"],"names":["form","emailField","messageField","defaultData","feedbackFormState","updateField","e","throttle","email","message"],"mappings":"wIAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9C,CAAE,MAAOC,EAAY,QAASC,CAAc,EAAGF,EAC/CG,EAAc,CAClB,MAAO,GACP,QAAS,EACX,EACA,IAAIC,EAAoB,KAAK,MAC3B,aAAa,QAAQ,qBAAqB,CAC5C,GAAKD,EAELF,EAAW,MAAQG,EAAkB,MACrCF,EAAa,MAAQE,EAAkB,QAEvC,SAASC,EAAYC,EAAG,CACtBF,EAAkBE,EAAE,OAAO,MAAQA,EAAE,OAAO,MAAM,KAAM,EAExD,aAAa,QACX,sBACA,KAAK,UAAUF,CAAiB,CACpC,CACA,CAEAJ,EAAK,iBAAiB,QAASO,EAAAA,SAASF,EAAa,GAAI,CAAC,EAE1DL,EAAK,iBAAiB,SAAUM,GAAK,CACnCA,EAAE,eAAc,EAChB,KAAM,CAAE,MAAAE,EAAO,QAAAC,CAAO,EAAIL,EAEtBI,IAAU,IAAMC,IAAY,KAC9BT,EAAK,MAAO,EACZ,QAAQ,IAAII,CAAiB,EAC7BA,EAAoBD,EACpB,aAAa,WAAW,qBAAqB,EAEjD,CAAC"}